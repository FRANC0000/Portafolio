<div class="container">
    <div class="top">
        <button nz-button (click)="crearMesa()"> Crear mesa </button>
    </div>
    <div class="grid">
        <div *ngFor="let mesa of listadoMesas" class="mesas">
            <div class="card" *ngIf="mesa.nombre_estado_mesa == 'Disponible'">
                <div class="title-card">
                    Mesa nro. {{mesa.id_mesa}}
                </div>
                <div class="content-card">
                    Cantidad de asientos: {{mesa.cantidad_asientos}}
                    <br>
                    Estado de mesa: {{mesa.nombre_estado_mesa}}
                    <br>
                    Tipo de mesa: {{mesa.nombre_tipo_mesa}}
                </div>
            </div>
            <div class="card-no-disponible" *ngIf="mesa.nombre_estado_mesa == 'Ocupado'">
                <div class="title-card">
                    Mesa nro. {{mesa.id_mesa}}
                </div>
                <div class="content-card">
                    Cantidad de asientos: {{mesa.cantidad_asientos}}
                    <br>
                    Estado de mesa: {{mesa.nombre_estado_mesa}}
                    <br>
                    Tipo de mesa: {{mesa.nombre_tipo_mesa}}
                </div>
            </div>
        </div>
    </div>
</div>

<nz-modal nzTitle="Crear mesa" [nzWidth]="800" [nzContent]="crearMesaContent" [(nzVisible)]="isVisibleCrearMesa"
    (nzOnOk)="guardarCrearMesa()" (nzOnCancel)="cerrarCrearMesa()">
    <ng-container #crearMesaContent>
        <form nz-form [formGroup]="validateFormCrearMesa" id="validateFormCrearMesa" [nzLayout]="'inline'"
            (ngSubmit)="guardarCrearMesa()">
            <div style="display: flex; justify-content: center;">
                <nz-form-item>
                    <nz-form-label nzRequired nzFor="id_mesa">
                        Id mesa
                    </nz-form-label>
                    <br>
                    <nz-form-control nzErrorTip="Por favor ingrese nÃºmero de mesa">
                        <input nz-input type="number" name="id_mesa" id="id_mesa" placeholder="1"
                            formControlName="id_mesa">
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label>
                        Estado de la mesa
                    </nz-form-label>
                    <br>
                    <nz-form-control style="width: 100%;">
                        <nz-select nzAllowClear nzPlaceHolder="Disponible"
                            [(ngModel)]="estadoMesaSeleccionado" formControlName="id_estado_mesa">
                            <ng-container *ngFor="let eM of listadoEstadosMesas">
                                <nz-option [nzLabel]="eM.nombre_estado_mesa" [nzValue]="eM.id_estado_mesa"></nz-option>
                            </ng-container>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item style="width: 120px;">
                    <nz-form-label>
                        Tipo de mesa
                    </nz-form-label>
                    <br>
                    <nz-form-control style="width: 100%;">
                        <nz-select nzAllowClear nzPlaceHolder="Familiar"
                            [(ngModel)]="tipoMesaSeleccionado" formControlName="id_tipo_mesa">
                            <ng-container *ngFor="let tM of listadoTiposMesas">
                                <nz-option nzLabel="{{tM.nombre_tipo_mesa}} ({{tM.cantidad_asientos}})" [nzValue]="tM.id_tipo_mesa"></nz-option>
                            </ng-container>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </form>
    </ng-container>
</nz-modal>