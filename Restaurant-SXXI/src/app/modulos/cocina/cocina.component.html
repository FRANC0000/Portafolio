<div class="all-cocina" *ngIf="rolUsuarioLogeado == 3 || rolUsuarioLogeado == 1 ">
    <div class="datos-sesion">
        <div class="title-datos-sesion">
            <label>MÓDULO COCINA </label>
          </div>
          <div class="btn-reserva">
              <button nz-button (click)="crearPlato()"> Crear plato </button>
              <!-- <button nz-button (click)="crearProducto()"> Crear producto </button> -->
              <!-- <button nz-button (click)="crearReceta()"> Crear receta </button> -->
              <button nz-button nzType="danger" (click)="cerrarSesion()"> Cerrar sesión </button>
          </div>
    </div>
    <div class="menu">
        <div class="menu-header">
            <h2>Pedidos</h2>
        </div>
        <div>
            <nz-tabset>
                <nz-tab nzTitle="En cola">
                    <div class="pedidos-row" *ngIf="listaPedidosEnCola.length > 0">
                        <div *ngFor="let pedido of listaPedidosEnCola">
                            <nz-card style="width:300px; margin: 0px 2px; margin-bottom: 10px;" nzTitle="Pedido #{{pedido.idPedido}}">
                                <div>
                                    <label for=""> Mesa #{{pedido.idMesa}}</label>
                                    <br>
                                    <label for=""> {{pedido.fechaIngreso | date: 'dd/MM/yyyy HH:mm:ss'}}</label>
                                </div>
                                <br>
                                <div class="botones-pedidos">
                                    <button nz-button (click)="solicitarIngredientes(pedido)"
                                     style="width: 100%;" [id]="pedido.idPedido">
                                        Solicitar ingredientes
                                    </button>
                                    <button nz-button (click)="moverPedidoAEnPreparacion(pedido)"
                                     style="width: 100%;" class="agregar-item">
                                        Mover a 'En preparación'
                                    </button>
                                </div>
                            </nz-card>
                        </div>
                    </div>
                    <div class="pedidos-row sin-pedidos" *ngIf="listaPedidosEnCola.length == 0">
                        No hay pedidos en cola en este momento.
                    </div>
                </nz-tab>
                <nz-tab nzTitle="En preparación">
                    <div class="pedidos-row" *ngIf="listaPedidosEnPreparacion.length > 0">
                        <div *ngFor="let pedido of listaPedidosEnPreparacion">
                            <nz-card style="width:300px; margin: 0px 2px; margin-bottom: 10px;" nzTitle="Pedido #{{pedido.idPedido}}">
                                <div>
                                    <label for=""> Mesa #{{pedido.idMesa}}</label>
                                    <br>
                                    <label for=""> {{pedido.fechaIngreso | date: 'dd/MM/yyyy HH:mm:ss'}}</label>
                                </div>
                                <br>
                                <div class="botones-pedidos">
                                    <button nz-button (click)="verDetallePedidoEnCola(pedido)"
                                     style="width: 100%;">
                                        Ver detalle del pedido
                                    </button>
                                    <button nz-button (click)="moverPedidoAParaEntregar(pedido)"
                                     style="width: 100%;" class="agregar-item">
                                        Mover a 'Para entregar'
                                    </button>
                                </div>
                            </nz-card>
                        </div>
                    </div>
                    <div class="pedidos-row sin-pedidos" *ngIf="listaPedidosEnPreparacion.length == 0">
                        No hay pedidos en preparación en este momento.
                    </div>
                </nz-tab>
                <nz-tab nzTitle="Para entregar">
                    <div class="pedidos-row" *ngIf="listaPedidosParaEntregar.length > 0">
                        <div *ngFor="let pedido of listaPedidosParaEntregar">
                            <nz-card style="width:300px; margin: 0px 2px; margin-bottom: 10px;" nzTitle="Pedido #{{pedido.idPedido}}">
                                <div>
                                    <label for=""> Mesa #{{pedido.idMesa}}</label>
                                    <br>
                                    <label for=""> {{pedido.fechaIngreso | date: 'dd/MM/yyyy HH:mm:ss'}}</label>
                                </div>
                                <br>
                                <div class="botones-pedidos">
                                    <button nz-button (click)="verDetallePedidoEnCola(pedido)"
                                     style="width: 100%;">
                                        Ver detalle del pedido
                                    </button>
                                    <button nz-button (click)="moverPedidoAEntregado(pedido)"
                                     style="width: 100%;" class="agregar-item">
                                        Mover a 'Entregado'
                                    </button>
                                </div>
                            </nz-card>
                        </div>
                    </div>
                    <div class="pedidos-row sin-pedidos" *ngIf="listaPedidosParaEntregar.length == 0">
                        No hay pedidos para entregar en este momento.
                    </div>
                </nz-tab>
                <nz-tab nzTitle="Entregado">
                    <div class="pedidos-row" *ngIf="listaPedidosEntregadosHoy.length > 0">
                        <div *ngFor="let pedido of listaPedidosEntregadosHoy">
                            <nz-card style="width:300px; margin: 0px 2px; margin-bottom: 10px;" nzTitle="Pedido #{{pedido.idPedido}}">
                                <div>
                                    <label for=""> Mesa #{{pedido.idMesa}}</label>
                                    <br>
                                    <label for=""> {{pedido.fechaIngreso | date: 'dd/MM/yyyy HH:mm:ss'}}</label>
                                </div>
                                <br>
                                <div class="botones-pedidos">
                                    <button nz-button (click)="verDetallePedidoEnCola(pedido)"
                                     style="width: 100%;">
                                        Ver detalle del pedido
                                    </button>
                                    <!-- <button nz-button (click)="moverPedidoAParaEntregar(pedido)"
                                     style="width: 100%;" class="agregar-item">
                                        Mover a 'Para entregar'
                                    </button> -->
                                </div>
                            </nz-card>
                        </div>
                    </div>
                    <div class="pedidos-row sin-pedidos" *ngIf="listaPedidosEntregadosHoy.length == 0">
                        No hay pedidos para entregar en este momento.
                    </div>
                </nz-tab>
            </nz-tabset>
        </div>
        <br>
        <div class="menu-header">
            <h2>Alertas mesas</h2>
        </div>
        <div class="menu-content">
            <div class="grid mesas">
                <div *ngFor="let mesa of listadoMesas">
                    <nz-card style="width:300px; margin: 0px 2px; margin-bottom: 10px;" nzTitle="Mesa #{{mesa.id_mesa}}">
                        <div class="botones-pedidos" style="text-align: center;">
                            <button nz-popconfirm
                            nzPopconfirmTitle="¿Seguro que quieres cancelar la reserva y disponibilizar la mesa?"
                            nzPopconfirmPlacement="top"
                            (nzOnConfirm)="cancelarReserva(mesa.id_mesa)"
                            nz-button> Disponibilizar mesa </button>
                            <!-- <button nz-button (click)="moverPedidoAParaEntregar(pedido)"
                             style="width: 100%;" class="agregar-item">
                                Mover a 'Para entregar'
                            </button> -->
                        </div>
                    </nz-card>

                    <!-- <div class="card" *ngIf="mesa.nombre_estado_mesa == 'Ocupado'">
                        <div class="title-card">
                            Mesa nro. {{mesa.id_mesa}}
                            
                        </div>
                        <div class="content-card">
                            Cantidad de asientos: {{mesa.cantidad_asientos}}
                            <br>
                            Estado de mesa: {{mesa.nombre_estado_mesa}}
                            <br>
                            Tipo de mesa: {{mesa.nombre_tipo_mesa}}
                            <br>
                            <button nz-popconfirm
                            nzPopconfirmTitle="¿Seguro que quieres cancelar la reserva y disponibilizar la mesa?"
                            nzPopconfirmPlacement="top"
                            (nzOnConfirm)="cancelarReserva(mesa.id_mesa)"> Disponibilizar mesa </button>
                        </div>
                    </div> -->
                </div>
            </div>
        </div> 
        <br>
        <div class="menu-header">
            <h2>Nuestro menú.</h2>
        </div>
        <nz-divider></nz-divider>
        <div class="menu-content">
            <nz-tabset>
            <nz-tab nzTitle="Platos" class="platos-tab">
                <div *ngFor="let plato of listaPlatos; let i = index;">
                <div *ngIf="plato.disponibilidad" class="plato-row">
                    <div class="img-plato">
                    <img *ngIf="plato.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/platos/{{plato.nombre_imagen}}" alt="">
                    <img *ngIf="plato.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="">
                    </div>
                    <div class="plato-disponible">
                        <div class="plato-title">
                            <h3 class="plato-name">{{plato.nombre_plato | uppercase}}</h3>
                            <h5 class="plato-tipo">{{plato.nombre_tipo_plato}} |  Recomendado para {{plato.cantidad_personas_recomendadas}} persona(s)</h5>
                            <br>
                        </div>
                        <div class="plato-content">
                            <h3 style="margin-bottom: 5px">${{plato.precio_plato |  currency:'CLP'}}</h3>
                            <p>{{plato.comentario}}</p>
                        </div>
                        <div>
                            <button nz-button (click)="verDetallePlato(plato)"> Ver detalle </button>
                        </div>
                    </div>
                </div>
                <nz-divider></nz-divider>
                <div *ngIf="!plato.disponibilidad" class="plato-row-no-disponible">
                    <div class="img-plato">
                        <img *ngIf="plato.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/platos/{{plato.nombre_imagen}}" alt="">
                        <img *ngIf="plato.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="">
                    </div>
                    <div class="plato-no-disponible">
                    <div class="plato-title">
                        <h3 class="plato-name">{{plato.nombre_plato | uppercase}}</h3>
                        <h5 class="plato-tipo">{{plato.nombre_tipo_plato}} | Recomendado para {{plato.cantidad_personas_recomendadas}} persona(s)</h5>
                        <br>
                    </div>
                    <div class="plato-content">                
                        <h3 style="margin-bottom: 5px">${{plato.precio_plato | currency:'CLP'}}</h3>
                        <p>{{plato.comentario}}</p>
                    </div>
                    <div>
                        <button nz-button (click)="verDetallePlato(plato)" style="margin-right: 10px;"> Ver detalle </button>
                        <label for="" style="color: red; font-weight: bold;">ARTÍCULO NO DISPONIBLE</label>
                    </div>
                    </div>
                </div>
                <nz-divider></nz-divider>
                </div>
            </nz-tab>
            <nz-tab nzTitle="Productos">
                <div *ngFor="let producto of listaProductos; let i = index;">
                <div *ngIf="producto.stock_producto > 0" class="plato-row">
                    <div class="img-producto">
                        <img *ngIf="producto?.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/productos/{{producto.nombre_imagen}}" alt="">
                        <img *ngIf="producto?.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="">
                    </div>
                    <div class="plato-disponible">
                        <div class="plato-title">
                            <h3 class="plato-name">{{producto.nombre_producto | uppercase}}</h3>
                            <h5 class="plato-tipo">{{producto.nombre_tipo_producto}}</h5>
                            <br>
                        </div>
                        <div class="plato-content">
                            <h3 style="margin: 5px">${{producto.valor_unitario |  currency:'CLP'}}</h3>
                            <p>{{producto.comentario}}</p>
                            <button nz-button (click)="verDetalleProducto(producto)"> Ver detalle </button>
                        </div>
                    </div>
                </div>
                <nz-divider></nz-divider>
                <div *ngIf="!(producto.stock_producto > 0)" class="plato-row-no-disponible">
                    <div class="img-producto">
                        <img *ngIf="producto?.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/productos/{{producto.nombre_imagen}}" alt="">
                        <img *ngIf="producto?.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="">
                    </div>
                    <div class="plato-no-disponible">
                    <div class="plato-title">
                        <h3 class="plato-name">{{producto.nombre_producto | uppercase}}</h3>
                        <h5 class="plato-tipo">{{producto.nombre_tipo_producto}}</h5>
                        <br>
                    </div>
                    <div class="plato-content">                
                        <h3 style="margin-bottom: 5px">${{producto.valor_unitario |  currency:'CLP'}}</h3>
                        <p>{{producto.comentario}}</p>
                    </div>
                    <div>
                        <button nz-button (click)="verDetalleProducto(producto)"> Ver detalle </button>
                        <label for="" style="color: red; font-weight: bold; margin-left: 10px;">ARTÍCULO NO DISPONIBLE</label>
                    </div>
                    </div>
                </div>
                <nz-divider></nz-divider>
                </div>
            </nz-tab>
            <nz-tab nzTitle="Recetas">
                <div *ngFor="let receta of listaRecetas; let i = index;">
                    <div class="plato-row">
                        <div class="plato-disponible">
                            <div class="plato-title">
                                <h3 class="plato-name">Nombre: {{receta.titulo_receta}}</h3>
                                <h5 class="plato-tipo"> | Preparación en {{receta.tiempoPreparacion}}' min</h5>
                                <br>
                            </div>
                            <div class="plato-content">
                                <h3>Complejidad de preparación: {{receta.complejidad}}</h3>
                                <p>{{receta.comentario}}</p>
                                <button nz-button (click)="verDetalleReceta(receta)"> Ver detalle </button>
                            </div>
                        </div>
                    </div>
                    <nz-divider></nz-divider>
                    </div>
            </nz-tab>
            </nz-tabset>
        </div>
    </div>

    <!-- VER DETALLE PLATO -->
    <nz-drawer
    [nzWidth] = "550"
    [nzClosable]="false"
    [nzVisible]="visibleDetallePlato"
    nzPlacement="right"
    nzTitle="Detalle del plato"
    (nzOnClose)="cerrarDrawerDetallePlato()"
    style="background-color: rgba(81, 0, 195, 0.319);"
  >
    <ng-container>
      <div class="all-detalle-plato">
        <div class="img-detalle-plato">
            <img *ngIf="platoSelected?.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/platos/{{platoSelected.nombre_imagen}}" alt="" style="height: 300px; width: 100%;">
            <img *ngIf="platoSelected?.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="" style="height: 300px; width: 100%;">
        </div>
        <div class="botones-modificar">
            <span *ngIf="!isVisibleModificarPlato" nz-icon nzType="edit" nzTheme="outline" (click)="actualizarPlato(platoSelected)"></span>
            <span *ngIf="!isVisibleModificarPlato" nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
                nzPopconfirmTitle="¿Seguro que quieres eliminar el plato?" nzPopconfirmPlacement="top"
                (nzOnConfirm)="guardarEliminarPlato(platoSelected.id_plato)"></span>

            <span *ngIf="isVisibleModificarPlato" nz-icon nzType="check" nzTheme="outline" nz-popconfirm
                nzPopconfirmTitle="¿Seguro que quieres actualizar el plato?" nzPopconfirmPlacement="top"
                (nzOnConfirm)="guardarModificarPlato(platoSelected.id_plato)"></span>
            <span *ngIf="isVisibleModificarPlato" nz-icon nzType="close" nzTheme="outline" (click)="cerrarModificarPlato()"></span>
            
        </div>
        <div class="header-detalle-plato" *ngIf="!isVisibleModificarPlato">
            <div class="name-detalle-plato">
                <h3>{{platoSelected?.nombre_plato | uppercase}}</h3>
            </div>
            <div class="desc-detalle-plato">
                <h4>Tipo de plato:
                    <h3 style="color: rgb(122, 122, 122)">{{platoSelected?.nombre_tipo_plato}} - {{platoSelected?.descripcion_tipo_plato}}
                    </h3>
                </h4>
                <br>
            </div>
            <div class="detalles-plato">
                <h4>Descripción del plato:
                    <h3 style="color: rgb(122, 122, 122)">{{platoSelected?.descripcion_plato}}</h3>
                </h4>
                <br>
                <h4>Comentario acerca del plato:
                    <h3 style="color: rgb(122, 122, 122)">{{platoSelected?.comentario}}</h3>
                </h4>
                <br>
                <h4>Recomendado para:
                    <h3 style="color: rgb(122, 122, 122)">{{platoSelected?.cantidad_personas_recomendadas}} persona(s)</h3>
                </h4>
                <br>
                <h4>Valor del plato: $
                    <h3 style="color: rgb(122, 122, 122)">{{platoSelected?.precio_plato}}</h3>
                </h4>

                <br>

                <h4 nz-title></h4>
                <div>
                    <table>
                        <tr>
                          <th>#</th>
                          <th>Receta</th>
                          <th>Tiempo</th>
                          <th>Complejidad</th>
                          <th>Comentario</th>
                        </tr>
                        <tr *ngFor="let rec of platoSelected?.recetas; let i = index;" class="mesa-row">
                          <td>{{i+1}}</td>
                          <td>{{rec.titulo_receta}}</td>
                          <td>{{rec.tiempo_preparacion}}' minutos</td>
                          <td>{{rec.complejidad}}</td>
                          <td>{{rec.comentario}}</td>
                        </tr>
                      </table>
                </div>
            </div>
        </div>
        
        <div class="header-detalle-plato" *ngIf="isVisibleModificarPlato">
            <form nz-form [formGroup]="validateFormModificarPlato" id="validateFormModificarPlato" [nzLayout]="'inline'" (ngSubmit)="enviarFormularioModificarPlato()">
                <div nz-row class="form-plato">
                    <div nz-col nzSpan="24" class="modificar-content-form">
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Nombre
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <input nz-input type="text" name="nombre_plato" id="nombre_plato" placeholder="nombre plato"
                                    formControlName="nombre_plato" value="platoSelected.nombre_plato">
                            </nz-form-control>
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Personas recomendadas
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <input nz-input type="number" name="cantidad_personas_recomendadas" id="cantidad_personas_recomendadas"
                                    placeholder="Personas recomendadas" formControlName="cantidad_personas_recomendadas"
                                    value="platoSelected.cantidad_personas_recomendadas">
                            </nz-form-control>
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Descripción
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <textarea rows="2" nz-input name="descripcion_plato" id="descripcion_plato" placeholder="Añadir un descripción al plato..."
                                    formControlName="descripcion_plato">
                                </textarea>
                                <!-- <input nz-input type="text" name="descripcion_plato" id="descripcion_plato" placeholder="descripcion"
                                    formControlName="descripcion_plato" value="platoSelected.descripcion_plato"> -->
                            </nz-form-control>
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Precio
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <input nz-input type="number" name="precio_plato" id="precio_plato" placeholder="precio"
                                    formControlName="precio_plato" value="platoSelected.precio_plato">
                            </nz-form-control>
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Tipo de plato
                            </nz-form-label>
                            <nz-form-control  class="nz-control-modificar-plato">
                                <nz-select [(ngModel)]="platoSelected.id_tipo_plato" nzPlaceHolder="Elegir tipo de plato"
                                    name="id_tipo_plato" formControlName="id_tipo_plato">
                                    <ng-container *ngFor="let tipo of listaTipoPlato">
                                        <nz-option [nzValue]="tipo.id_tipo_plato" [nzLabel]="tipo.nombre_tipo_plato"></nz-option>
                                    </ng-container>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Disponibilidad
                            </nz-form-label>
                            <nz-form-control  class="nz-control-modificar-plato">
                                <nz-select nzPlaceHolder="Elegir disponibilidad"
                                    name="disponibilidad" formControlName="disponibilidad">
                                    <nz-option [nzValue]="true" nzLabel="Disponible"></nz-option>
                                    <nz-option [nzValue]="false" nzLabel="No Disponible"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>

                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Comentario
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <textarea rows="2" nz-input name="comentario" id="comentario" placeholder="Añadir un comentario al plato"
                                    formControlName="comentario">
                                </textarea>
                                <!-- <input nz-input type="text" name="comentario" id="comentario" placeholder="Agregar comentario"
                                    formControlName="comentario">-->
                            </nz-form-control> 
                        </nz-form-item>
                    
                        <nz-form-item>
                            <nz-form-label class="nz-label-modificar-plato">
                                Adjuntar imagen
                            </nz-form-label>
                            <nz-form-control class="nz-control-modificar-plato">
                                <div class="file-select" id="src-file1">
                                    <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedPlato($event)">
                                </div>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </form>
        </div>
      </div>
    </ng-container>
    </nz-drawer>

    <!-- VER DETALLE PRODUCTO -->
    <nz-drawer
    [nzWidth] = "550"
    [nzClosable]="false"
    [nzVisible]="visibleDetalleProdcuto"
    nzPlacement="right"
    nzTitle="Detalle del producto"
    (nzOnClose)="cerrarDrawerDetalleProducto()"
    style="background-color: rgba(81, 0, 195, 0.319);"
    >
        <ng-container>
        <div class="all-detalle-plato">
            <div class="img-detalle-plato">
                <img *ngIf="productoSelected?.nombre_imagen != undefined" src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/productos/{{productoSelected.nombre_imagen}}" alt="" style="height: 300px; width: 100%;">
                <img *ngIf="productoSelected?.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt="" style="height: 300px; width: 100%;">
            </div>
            <div class="botones-modificar">
                <span *ngIf="!isVisibleModificarProducto" nz-icon nzType="edit" nzTheme="outline" (click)="modificarProducto(productoSelected)"></span>
                <span *ngIf="!isVisibleModificarProducto" nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
                    nzPopconfirmTitle="¿Seguro que quieres eliminar el producto?" nzPopconfirmPlacement="top"
                    (nzOnConfirm)="guardarEliminarProducto(productoSelected.id_producto)"></span>
    
                <span *ngIf="isVisibleModificarProducto" nz-icon nzType="check" nzTheme="outline" nz-popconfirm
                    nzPopconfirmTitle="¿Seguro que quieres actualizar el plato?" nzPopconfirmPlacement="top"
                    (nzOnConfirm)="guardarModificarProducto(productoSelected.id_producto)"></span>
                <span *ngIf="isVisibleModificarProducto" nz-icon nzType="close" nzTheme="outline" (click)="cerrarModificarProducto()"></span>
                
            </div>
            <div class="header-detalle-plato" *ngIf="!isVisibleModificarProducto">
                <div class="name-detalle-plato">
                    <h3>{{productoSelected?.nombre_producto | uppercase}}</h3>
                </div>
                <div class="desc-detalle-plato">
                    <h5>{{productoSelected?.comentario}}</h5>
                    <h5>Tipo de producto: {{productoSelected?.nombre_tipo_producto}}</h5>
                    <h5>Valor: ${{productoSelected?.valor_unitario |  currency:'CLP'}}</h5>
                    <h5 *ngIf="productoSelected?.stock_producto > 0">Stock disponible: {{productoSelected?.stock_producto}}</h5>
                    <h5 *ngIf="productoSelected?.stock_producto == 0"
                    style="color: red;">Stock disponible: {{productoSelected?.stock_producto}}</h5>
                    <h5>Fecha ingreso: {{productoSelected?.fecha_ingreso_producto}}</h5>
                    <h5>Fecha vencimiento: {{productoSelected?.fecha_vencimiento}}</h5>
                    <h5>Medida: {{productoSelected?.medida_producto}}</h5>
                    <h5>Tipo de producto: {{productoSelected?.tipo_producto_comentario}}</h5>
                </div>  
            </div>
            <div *ngIf="isVisibleModificarProducto">
                <form nz-form [formGroup] ="validateFormModificarProducto"  [nzLayout]="'inline'" id="validateFormModificarProducto">
                    <div nz-row class="form-plato">
                        <div nz-col nzSpan="24" class="modificar-content-form">
                            <nz-form-item>
                                <nz-form-label nzFor="id_producto" class="nz-label-modificar-producto">
                                    Id producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <input nz-input type="text" name="id_producto" id="id_producto" placeholder="id_producto"
                                    formControlName="id_producto"
                                    disabled>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto" nzFor="fecha_ingreso_producto">
                                    Fecha de ingreso
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <nz-date-picker formControlName="fecha_ingreso_producto" nzFormat="dd/MM/yyyy"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto" nzFor="fecha_vencimiento">
                                    Fecha de vencimiento
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <nz-date-picker formControlName="fecha_vencimiento" nzFormat="dd/MM/yyyy"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto" nzFor="nombre_producto">
                                    Nombre producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <input nz-input type="text" name="nombre_producto" id="nombre_producto" placeholder="nombre_producto" formControlName="nombre_producto">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto" nzFor="medida_producto">
                                    Medida
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <nz-select nzPlaceHolder="Elegir medida de producto" name="medida_producto" formControlName="medida_producto">
                                        <nz-option nzValue="cc" nzLabel="CC centímetros cúbicos"></nz-option>
                                        <nz-option nzValue="lts" nzLabel="Litros"></nz-option>
                                        <nz-option nzValue="kg" nzLabel="Kilogramo"></nz-option>
                                        <nz-option nzValue="gr" nzLabel="Gramos"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto">
                                    Stock
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <input nz-input type="number" min=0 name="stock_producto" id="stock_producto" formControlName="stock_producto">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto">
                                    Valor unitario
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <input nz-input type="number" min=0 name="valor_unitario" id="valor_unitario" formControlName="valor_unitario">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto" nzFor="comentario">
                                    Comentario
                                </nz-form-label>
                                <nz-form-control nzErrorTip="Por favor ingrese un nuevo comentario"
                                class="nz-control-modificar-producto">
                                    <input nz-input type="text" name="comentario" id="comentario" placeholder="comentario"
                                        formControlName="comentario">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto">
                                    Tipo de producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <nz-select nzPlaceHolder="Elegir tipo de producto"
                                    name="tipo_producto" formControlName="tipo_producto">
                                    <ng-container *ngFor="let tipo of listaTipoProducto">
                                        <nz-option [nzValue]="tipo.id_tipo_producto" [nzLabel]="tipo.nombre_tipo_producto"></nz-option>
                                    </ng-container>
                                </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-modificar-producto">
                                    Adjuntar imagen
                                </nz-form-label>
                                <nz-form-control class="nz-control-modificar-producto">
                                    <div class="file-select" id="src-file1">
                                        <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedProducto($event)">
                                    </div>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        </ng-container>
    </nz-drawer>

    <!-- VER DETALLE RECETA -->
    <nz-drawer
    [nzWidth] = "550"
    [nzClosable]="false"
    [nzVisible]="visibleDetalleReceta"
    nzPlacement="right"
    nzTitle="Detalle de receta"
    (nzOnClose)="cerrarDrawerDetalleReceta()"
    style="background-color: rgba(81, 0, 195, 0.319);"
    >
        <ng-container>
        <div class="all-detalle-plato">
            <div class="header-detalle-plato">
                <div class="botones-modificar">
                    <span *ngIf="!isVisibleModificarReceta" nz-icon nzType="edit" nzTheme="outline" (click)="modificarReceta(recetaSelected)"></span>
                    <span *ngIf="!isVisibleModificarReceta" nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
                        nzPopconfirmTitle="¿Seguro que quieres eliminar la receta?" nzPopconfirmPlacement="top"
                        (nzOnConfirm)="guardarEliminarReceta(recetaSelected.id_receta)"></span>
        
                    <span *ngIf="isVisibleModificarReceta" nz-icon nzType="check" nzTheme="outline" nz-popconfirm
                        nzPopconfirmTitle="¿Seguro que quieres actualizar la receta?" nzPopconfirmPlacement="top"
                        (nzOnConfirm)="guardarModificarReceta(recetaSelected.id_receta)"></span>
                    <span *ngIf="isVisibleModificarReceta" nz-icon nzType="close" nzTheme="outline" (click)="cerrarModificarReceta()"></span>
                </div>
                <div *ngIf="!isVisibleModificarReceta">
                    <div class="name-detalle-plato">
                        <h3>Receta #{{recetaSelected?.id_receta}}</h3>
                        <h3>Nombre: {{recetaSelected?.titulo_receta}}</h3>
                    </div>
                    <div class="desc-detalle-plato">
                        <h5>Tiempo de preparación: {{recetaSelected?.tiempo_preparacion}}</h5>
                        <h5>Complejidad: {{recetaSelected?.complejidad}}</h5>
                        <h5>Comentario: {{recetaSelected?.comentario}}</h5>
                    </div>
                    <br>
                    <div class="desc-detalle-plato">
                        <h4>Productos que utiliza esta receta:</h4>
                        <div>
                            <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Cantidad</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prod of recetaSelected?.productosEnUnaReceta">
                                        <td>{{prod.producto.nombre_producto}}</td>
                                        <td>(x{{prod.cantidad}})</td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="isVisibleModificarReceta">
                <form nz-form [formGroup]="validateFormModificarReceta" id="validateFormModificarReceta"
                    (ngSubmit)="(guardarModificarReceta)">
                    <div>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="id_receta">
                                Id receta
                            </nz-form-label>
                            <nz-form-control nzErrorTip="Por favor ingrese la nuevo id de receta">
                                <input nz-input type="text" name="id_receta" id="id_receta" placeholder="id_receta" disabled value="{{recetaSelected.id_receta}}">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="titulo_receta">
                                Título receta
                            </nz-form-label>
                            <nz-form-control>
                                <input nz-input type="text" name="titulo_receta" id="titulo_receta" placeholder="titulo_receta" value="{{recetaSelected.titulo_receta}" 
                                formControlName="titulo_receta">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="comentario">
                                Comentario
                            </nz-form-label>
                            <nz-form-control nzErrorTip="Por favor ingrese un nuevo comentario">
                                <input nz-input type="text" name="comentario" id="comentario" placeholder="comentario"
                                    formControlName="comentario">
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="complejidad">
                                Complejidad
                            </nz-form-label>
                            <nz-form-control nzErrorTip="Por favor indique la nueva complejidad">
                                <nz-select nzPlaceHolder="Elegir complejidad" name="complejidad" formControlName="complejidad" style="width: 200px">
                                    <nz-option nzValue="Fácil" nzLabel="Fácil"></nz-option>
                                    <nz-option nzValue="Mediana" nzLabel="Mediana"></nz-option>
                                    <nz-option nzValue="Difícil" nzLabel="Difícil"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label nzRequired nzFor="tiempo_preparacion">
                                Tiempo preparación
                            </nz-form-label>
                            <nz-form-control nzErrorTip="Por favor ingrese el tiepo de tiempo de preparacion">
                                <nz-select nzPlaceHolder="Elegir tiempo" name="tiempo_preparacion" formControlName="tiempo_preparacion"
                                    style="width: 200px">
                                    <nz-option nzValue="10" nzLabel="10"></nz-option>
                                    <nz-option nzValue="20" nzLabel="20"></nz-option>
                                    <nz-option nzValue="30" nzLabel="30"></nz-option>
                                    <nz-option nzValue="60" nzLabel="60"></nz-option>
                                </nz-select>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </form>
            </div>
        </div>
        </ng-container>
    </nz-drawer>
    
    <!-- CREAR PLATO -->
    <nz-modal nzTitle="Crear Plato" [nzWidth]="800" [nzContent]="crearPlatoContent" [(nzVisible)]="isVisibleCrearPlato"
        (nzOnOk)="guardarCrearPlato()" (nzOnCancel)="cerrarCrearPlato()">
        <div>
            <ng-container #crearPlatoContent>
                <form nz-form [formGroup]="validateFormCrearPlato" id="validateFormCrearPlato" [nzLayout]="'inline'" (ngSubmit)="enviarFormularioCrearPlato()">
                    <div nz-row clas="form-usuario">
                        <div nz-col nzSpan="12">
                            <nz-form-item>
                                <nz-form-label>
                                    Nombre
                                </nz-form-label>
                                <nz-form-control>
                                    <input nz-input type="text" name="nombre_plato" id="nombre_plato" placeholder="Nombre plato" formControlName="nombre_plato">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label>
                                    Personas recomendadas
                                </nz-form-label>
                                <nz-form-control>
                                    <input nz-input type="number" min="1" name="cantidad_personas_recomendadas" id="cantidad_personas_recomendadas" placeholder="Personas recomendadas" formControlName="cantidad_personas_recomendadas">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label>
                                    Descripción
                                </nz-form-label>
                                <nz-form-control>
                                    <input nz-input type="text" name="descripcion_plato" id="descripcion_plato" placeholder="Descripcion plato" formControlName="descripcion_plato">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label>
                                    Precio
                                </nz-form-label>
                                <nz-form-control>
                                    <input nz-input type="number" min="0" name="precio_plato" id="precio_plato" placeholder="Precio plato" formControlName="precio_plato">
                                </nz-form-control>
                            </nz-form-item>
                        </div>
    
                        <div nz-col nzSpan="12">
                            <nz-form-item>
                                <nz-form-label>
                                    Tipo de plato
                                </nz-form-label>
                                <nz-form-control style="width: 200px;">
                                    <nz-select [ngModel]="tipoPlatoSelected" nzPlaceHolder="Elegir tipo de plato" name="id_tipo_plato" formControlName="id_tipo_plato">
                                        <ng-container *ngFor="let tipo of listaTipoPlato">
                                            <nz-option [nzValue]="tipo.id_tipo_plato" [nzLabel]="tipo.nombre_tipo_plato"></nz-option>
                                        </ng-container>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label>
                                    Disponibilidad
                                </nz-form-label>
                                <nz-form-control style="width: 200px;">
                                    <nz-select [ngModel]="disponibilidadSelected" nzPlaceHolder="Elegir disponibilidad" name="disponibilidad" formControlName="disponibilidad">
                                        <nz-option nzValue="true" nzLabel="Disponible"></nz-option>
                                        <nz-option nzValue="false" nzLabel="No Disponible"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label>
                                    Comentario
                                </nz-form-label>
                                <nz-form-control>
                                    <input nz-input type="text" name="comentario" id="comentario" placeholder="Agregar comentario" formControlName="comentario">
                                </nz-form-control>
                            </nz-form-item>

                            <nz-form-item>
                                <nz-form-label>
                                    Adjuntar imagen
                                </nz-form-label>
                                <nz-form-control>
                                    <!-- <input type="file" class="custom-file-input"  #fileUpload> -->
                                    <div class="file-select" id="src-file1">
                                        <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedPlato($event)">
                                    </div>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
    
                    </div>
                </form>
                <br>
                <h2 nz-title> Receta de este plato</h2>
                <form nz-form [formGroup]="validateFormCrearReceta" id="validateFormCrearReceta" [nzLayout]="'inline'">
                <div style="display: flex; justify-content: center;">
                    <nz-form-item>
                        <nz-form-label>
                            Título
                        </nz-form-label>
                        <nz-form-control>
                            <input nz-input type="text" name="titulo_receta" id="titulo_receta" placeholder="Título de receta" formControlName="titulo_receta">
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzFor="complejidad">
                            Complejidad
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese la complejidad de la receta">
                            <nz-select nzPlaceHolder="Elegir complejidad" name="complejidad" formControlName="complejidad"
                            style="width: 200px">
                                <nz-option nzValue="Fácil" nzLabel="Fácil"></nz-option>
                                <nz-option nzValue="Mediana" nzLabel="Mediana"></nz-option>
                                <nz-option nzValue="Difícil" nzLabel="Difícil"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzFor="tiempo_preparacion">
                            Tiempo de preparación
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese el tiempo de preparacion">
                            <nz-select nzPlaceHolder="Elegir tiempo" name="tiempo_preparacion" formControlName="tiempo_preparacion"
                            style="width: 200px">
                                <nz-option nzValue="10" nzLabel="10"></nz-option>
                                <nz-option nzValue="20" nzLabel="20"></nz-option>
                                <nz-option nzValue="30" nzLabel="30"></nz-option>
                                <nz-option nzValue="60" nzLabel="60"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzFor="comentario">
                            Comentario
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese un comentario">
                            <textarea rows="2" nz-input name="comentario" id="comentario" placeholder="Añadir un comentario a la receta..."
                                formControlName="comentario">
                            </textarea>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <br>
                <div nz-row>
                    <div nz-col nzSpan="11">
                        <div>
                            <h3 nz-title>Ingredientes disponibles</h3>
                            <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prod of listaProductos">
                                        <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">{{ prod.nombre_producto}}</td>
                                        <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">
                                            <a (click)="mostrarModalAgregarIngrediente(prod)" [id]="prod.id_producto">Agregar ingrediente</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                    <div nz-col nzSpan="2"></div>
                    <div nz-col nzSpan="11">
                        <div>
                            <h3 nz-title>Ingredientes de esta receta</h3>
                            <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prod of listProductosReceta">
                                        <td>{{ prod.nombre_producto }} (x{{prod.cantidad}})</td>
                                        <td>
                                            <a (click)="quitarIngredienteDeReceta(prod)">Quitar</a>
                                            <nz-divider nzType="vertical"></nz-divider>
                                            <a (click)="modificarIngredienteDeReceta(prod)">Modificar</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                </div>
                </form>
            </ng-container>
        </div>
    </nz-modal>

    <!-- CREAR PRODUCTO -->
    <nz-modal nzTitle="Crear Producto" [nzWidth]="800" [nzContent]="crearProductoContent" [(nzVisible)]="isVisibleCrearProducto"
        (nzOnOk)="guardarCrearProducto()" (nzOnCancel)="cerrarCrearProducto()">
        <div>
            <ng-container #crearProductoContent>
                <form nz-form [formGroup]="validateFormCrearProducto" id="validateFormCrearProducto" [nzLayout]="'inline'">
                    <div nz-row clas="form-usuario">
                        <div nz-col nzSpan="12">
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Nombre
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <input nz-input type="text" name="nombre_producto" id="nombre_producto" placeholder="Nombre producto" formControlName="nombre_producto">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Medida
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto"  style="width: 182px;">
                                    <nz-select nzPlaceHolder="Elegir medida de producto" name="medida_producto" formControlName="medida_producto">
                                        <nz-option nzValue="cc" nzLabel="CC centímetros cúbicos"></nz-option>
                                        <nz-option nzValue="lts" nzLabel="Litros"></nz-option>
                                        <nz-option nzValue="kg" nzLabel="Kilogramo"></nz-option>
                                        <nz-option nzValue="gr" nzLabel="Gramos"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Stock
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <input nz-input type="number" min=0 name="stock_producto" id="stock_producto" formControlName="stock_producto">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Valor unitario
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <input nz-input type="number" min=0 name="valor_unitario" id="valor_unitario" formControlName="valor_unitario">
                                </nz-form-control>
                            </nz-form-item>
                        </div>
    
                        <div nz-col nzSpan="12">
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Tipo de producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto" style="width: 200px;">
                                    <nz-select nzPlaceHolder="Elegir tipo de producto"
                                    name="tipo_producto" formControlName="tipo_producto">
                                    <ng-container *ngFor="let tipo of listaTipoProducto">
                                        <nz-option [nzValue]="tipo.id_tipo_producto" [nzLabel]="tipo.nombre_tipo_producto"></nz-option>
                                    </ng-container>
                                </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Fecha ingreso producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <input nz-input type="text" name="fecha_ingreso_producto" id="fecha_ingreso_producto" disabled formControlName="fecha_ingreso_producto">
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Fecha vencimiento producto
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <nz-date-picker formControlName="fecha_vencimiento" nzFormat="dd/MM/yyyy"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label class="nz-label-crear-producto">
                                    Adjuntar imagen
                                </nz-form-label>
                                <nz-form-control class="nz-control-crear-producto">
                                    <!-- <input type="file" class="custom-file-input"  #fileUpload> -->
                                    <div class="file-select" id="src-file1">
                                        <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedProducto($event)">
                                    </div>
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                    </div>
                    <div style="width: 100%; text-align: center;" >
                        <br>
                        <nz-form-item style="width: 100%">
                            <nz-form-label>
                                Comentario
                            </nz-form-label>
                            <nz-form-control style="width: 80%">
                                <textarea rows="2" nz-input name="comentario" id="comentario"
                                    placeholder="Comentario del producto" formControlName="comentario">
                                </textarea>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </form>
            </ng-container>
        </div>
    </nz-modal>

    <!-- CREAR RECETA -->
    <!-- <nz-modal nzTitle="Crear receta" [nzWidth]="800" [nzContent]="crearRecetaContent" [(nzVisible)]="isVisibleCrearReceta"
        (nzOnOk)="guardarCrearReceta()" (nzOnCancel)="cerrarCrearReceta()">
        <ng-container #crearRecetaContent>
            <form nz-form [formGroup]="validateFormCrearReceta" id="validateFormCrearReceta" [nzLayout]="'inline'"
                (ngSubmit)="(guardarCrearReceta)">
                <div style="display: flex; justify-content: center;">
                    <nz-form-item>
                        <nz-form-label nzFor="complejidad">
                            Complejidad
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese la complejidad de la receta">
                            <nz-select nzPlaceHolder="Elegir complejidad" name="complejidad" formControlName="complejidad"
                            style="width: 200px">
                                <nz-option nzValue="Fácil" nzLabel="Fácil"></nz-option>
                                <nz-option nzValue="Mediana" nzLabel="Mediana"></nz-option>
                                <nz-option nzValue="Difícil" nzLabel="Difícil"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzFor="tiempo_preparacion">
                            Tiempo de preparación
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese el tiempo de preparacion">
                            <nz-select nzPlaceHolder="Elegir tiempo" name="tiempo_preparacion" formControlName="tiempo_preparacion"
                            style="width: 200px">
                                <nz-option nzValue="10" nzLabel="10"></nz-option>
                                <nz-option nzValue="20" nzLabel="20"></nz-option>
                                <nz-option nzValue="30" nzLabel="30"></nz-option>
                                <nz-option nzValue="60" nzLabel="60"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzFor="comentario">
                            Comentario
                        </nz-form-label>
                        <nz-form-control nzErrorTip="Por favor ingrese un comentario">
                            <textarea rows="2" nz-input name="comentario" id="comentario" placeholder="Añadir un comentario a la receta..."
                                formControlName="comentario">
                            </textarea>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <br>
                <div nz-row>
                    <div nz-col nzSpan="11">
                        <div>
                            <h3 nz-title>Ingredientes disponibles</h3>
                            <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prod of listaProductos">
                                        <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">{{ prod.nombre_producto}}</td>
                                        <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">
                                            <a (click)="mostrarModalAgregarIngrediente(prod)" [id]="prod.id_producto">Agregar ingrediente</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                    <div nz-col nzSpan="2"></div>
                    <div nz-col nzSpan="11">
                        <div>
                            <h3 nz-title>Ingredientes de esta receta</h3>
                            <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let prod of listProductosReceta">
                                        <td>{{ prod.nombre_producto }} (x{{prod.cantidad}})</td>
                                        <td>
                                            <a (click)="quitarIngredienteDeReceta(prod)">Quitar</a>
                                            <nz-divider nzType="vertical"></nz-divider>
                                            <a (click)="modificarIngredienteDeReceta(prod)">Modificar</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                </div>
                
                
            </form>
        </ng-container>
    </nz-modal> -->

    <!-- CREAR PRODUCTOS RECETA -->
    <nz-modal [(nzVisible)]="isVisibleCrearProductoReceta" nzTitle="Ingresar producto en receta" (nzOnCancel)="cancelarCrearProductoReceta()" (nzOnOk)="guardarProductoEnReceta()">
        <ng-container>
            <form nz-form [formGroup]="validateFormCrearProductosReceta" id="validateFormCrearProductosReceta" [nzLayout]="'inline'">
                <div nz-row class="form-plato">
                    <div style="display: grid;">
                        <nz-form-item>
                            <nz-form-label class="nz-label-crear-productos-receta">
                                Nombre
                            </nz-form-label>
                            <nz-form-control class="nz-control-crear-productos-receta">
                                <input nz-input type="text" name="nombre_producto" id="nombre_producto"
                                    formControlName="nombre_producto" disabled>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label class="nz-label-crear-productos-receta">
                                Cantidad
                            </nz-form-label>
                            <nz-form-control class="nz-control-crear-productos-receta">
                                <div style="display: flex; align-items: center;">
                                    <input nz-input type="text" disabled [value]="cantidadProductoReceta" style="width: 100px;">
                                    <span nz-icon nzType="minus-circle" nzTheme="outline" (click)="quitarCantidadProductoReceta()" style="font-size: x-large"></span>
                                    <span nz-icon nzType="plus-circle" nzTheme="outline" (click)="agregarCantidadProductoReceta()" style="font-size: x-large"></span>
                                </div>
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item>
                            <nz-form-label class="nz-label-crear-productos-receta">
                                Comentario
                            </nz-form-label>
                            <nz-form-control class="nz-control-crear-productos-receta">
                                <textarea rows="2" nz-input name="comentario" id="comentario" placeholder="Añadir un descripción a este producto en una receta..."
                                    formControlName="comentario">
                                </textarea>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </form>
        </ng-container>
    </nz-modal>

    <!-- VER DETALLE DE PEDIDO -->
    <nz-modal [(nzVisible)]="isVisibleVerDetallePedido"  [nzWidth]="1000" nzTitle="Ver detalle de pedido" (nzOnCancel)="cancelarVerDetallePedido()" (nzOnOk)="cancelarVerDetallePedido()" >
        <ng-container>
            <div>
                <h3 nz-title> Pedido: #{{pedidoSelected?.idPedido}}</h3>
                <h4 nz-title> Fecha: {{pedidoSelected?.fechaIngreso}}</h4>
                <h4 nz-title> Estado: {{pedidoSelected?.nombreEstadoInstancia}}</h4>
                <h4 nz-title> Mesa: #{{pedidoSelected?.idMesa}}</h4>
                <h4 nz-title> Cliente: {{pedidoSelected?.rutCliente}}</h4>
                <h4 nz-title> Subtotal: ${{pedidoSelected?.subtotal}}</h4>
            </div>
            <br>
            <nz-divider></nz-divider>
            <br>
            <div>
                <h4 nz-title> Carrito de compras </h4>
                <div *ngFor="let item of pedidoSelected?.carritoProductos">
                    <div *ngIf="item.esPlato">
                        {{item.plato.nombre_plato}} - ${{item.plato.precio_plato}}
                    </div>
                    <div *ngIf="item.esProducto">
                        {{item.producto.nombre_plato}} - ${{item.producto.precio_plato}}
                    </div>
                </div>
            </div>
        </ng-container>
    </nz-modal>
</div>

<div *ngIf="rolUsuarioLogeado != 3 && rolUsuarioLogeado != 1">
    <nz-result
      nzTitle="No posees los permisos necesarios"
      nzStatus="403"
      nzSubTitle="No puedes acceder a esta pestaña"
    >    
      <!-- <div nz-result-content>
        <div class="desc">
          <h4 nz-title>The content you submitted has the following error:</h4>
          <p nz-paragraph>
            <span nz-icon nzType="close-circle"></span>
            Your account has been frozen
            <a>Thaw immediately &gt;</a>
          </p>
          <p nz-paragraph>
            <span nz-icon nzType="close-circle"></span>
            Your account is not yet eligible to apply
            <a>Apply immediately &gt;</a>
          </p>
        </div>
      </div>
      <div nz-result-extra>
        <button nz-button nzType="primary">Go Console</button>
        <button nz-button>Buy Again</button>
      </div> -->
    </nz-result>
  </div>