<div class="all-administrador" *ngIf="rolUsuarioLogeado == 1">
  <div class="datos-sesion">
        <div class="title-datos-sesion">
            <label>MÓDULO ADMINISTRADOR </label>
          </div>
          <div class="btn-reserva">
            <button nz-button nzType="danger" (click)="cerrarSesion()"> Cerrar sesión </button>
          </div>
    </div>
    <div class="menu">
      <div class="grid">
        <div class="funcionalidades">
          <h3>Módulos</h3>
          <div class="card" (click)="navegarACocina()"> 
            <h3>Navegar a Cocina</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card"(click)="navegarAFinanzas()">
            <h3>Navegar a Finanzas</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card"(click)="navegarABodega()">
            <h3>Navegar a Bodega</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card" (click)="navegarAMesas()">
            <h3>Navegar a Mesas</h3>
          </div>
        </div>
      </div>
      <div class="grid">
        <div class="funcionalidades">
          <h3>Usuarios</h3>
          <div class="card" (click)="obtenerUsuarios()"> 
            <h3>Mostrar listado de usuarios </h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card" (click)="crearUsuario()"> 
            <h3>Crear un usuario</h3>
          </div>
        </div>
      </div>
      <div class="grid">
        <div class="funcionalidades">
          <h3>Mesas</h3>
          <div class="card" (click)="mostrarMesas()"> 
            <h3>Mostrar listado de mesas</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card"(click)="crearMesa()">
            <h3>Crear mesa</h3>
          </div>
        </div>
      </div>
      <div class="grid">
        <div class="funcionalidades">
          <h3>Productos</h3>
          <div class="card" (click)="mostrarProductos()"> 
            <h3>Mostrar listado de productos</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card"(click)="crearProducto()">
            <h3>Crear producto</h3>
          </div>
        </div>
      </div>
      <div class="grid">
        <div class="funcionalidades">
          <h3>Clientes</h3>
          <div class="card" (click)="mostrarClientes()"> 
            <h3>Mostrar listado de clientes</h3>
          </div>
        </div>
        <!-- <div class="funcionalidades">
          <br>
          <div class="card"(click)="crearProducto()">
            <h3>Crear producto</h3>
          </div>
        </div> -->
      </div>
      <div class="grid">
        <div class="funcionalidades">
          <h3>Reportes</h3>
          <div class="card" (click)="mostrarReportes()">
            <h3>Historial de reportes</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card" (click)="crearReporte()"> 
            <h3>Creación de reportes</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card" (click)="mostrarRegistros()">
            <h3>Historial de solicitudes de reabastecimiento</h3>
          </div>
        </div>
        <div class="funcionalidades">
          <br>
          <div class="card" (click)="mostrarRegistrosSolicitudesAprobadas()">
            <h3>Solicitudes aprobadas</h3>
          </div>
        </div>
      </div>
    </div>


    <!-- CREAR USUARIO -->
    <nz-modal nzTitle="Crear usuario" [nzWidth]="800" [nzContent]="crearUsuarioContent"
      [(nzVisible)]="isVisibleCrearUsuario" (nzOnOk)="guardarCrearUsuario()" (nzOnCancel)="cerrarCrearUsuario()">
      <ng-container #crearUsuarioContent>
        <form nz-form [formGroup]="validateFormCrearUsuario" id="validateFormCrearUsuario" [nzLayout]="'inline'"
          (ngSubmit)="enviarFormularioCrearUsuario()">
          <div style="display: flex; justify-content: center;">
            <nz-form-item>
              <nz-form-label nzRequired nzFor="id_usuario">
                ID usuario
              </nz-form-label>
              <nz-form-control nzErrorTip="Por favor ingrese su nombre de usuario">
                <input nz-input type="text" min="0" name="id_usuario" id="id_usuario" placeholder="ID usuario"
                  formControlName="id_usuario">
              </nz-form-control>
            </nz-form-item>
          </div>
          <br>
          <div nz-row clas="form-usuario">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>
                  RUT
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="number" name="rut_usuario" id="rut_usuario" placeholder="12345678" maxlength="8"
                    max="99999999" formControlName="rut_usuario" style="width: calc(100% - 40%);" minlength="7">
                  -
                  <input nz-input type="text" name="dv_usuario" id="dv_usuario" placeholder="1" maxlength="1"
                    formControlName="dv_usuario" style="width: 33px;">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Nombre
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="nombre" id="nombre" placeholder="Nombre" formControlName="nombre">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Apellido paterno
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="apellido_paterno" id="apellido_paterno" placeholder="Apellido paterno"
                    formControlName="apellido_paterno">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Apellido materno
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="apellido_materno" id="apellido_materno" placeholder="Apellido materno"
                    formControlName="apellido_materno">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>
                  Rol
                </nz-form-label>
                <nz-form-control>
                  <nz-select [ngModel]="rolSelected" nzPlaceHolder="Elegir rol" name="rol" formControlName="rol">
                    <ng-container *ngFor="let rol of listRoles">
                      <nz-option [nzValue]="rol.id_rol" [nzLabel]="rol.nombre_rol" *ngIf="rol.id_rol != 4"></nz-option>
                    </ng-container>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Correo
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="email" name="correo" id="correo" placeholder="mail@mail.com"
                    formControlName="correo">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Constraseña
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="password" name="contraseña" id="contraseña" formControlName="contrasena"
                    minLength="6" placeholder="Contraseña">
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </form>
      </ng-container>
    </nz-modal>
    
    <!-- VER LISTADO DE USUARIO -->
    <nz-modal nzTitle="Listado de usuarios" [nzContent]="listadoUsuariosContent" [nzWidth]="800"
      [(nzVisible)]="isVisibleListadoUsuarios" (nzOnOk)="okListadoUsuarios()" (nzOnCancel)="okListadoUsuarios()"
      [nzFooter]="null">
    
      <ng-container #listadoUsuariosContent>
        <div *ngIf="existenUsuarios">
          <div class="botones-listado-mesas" *ngIf="usuarioSelected != null && usuarioSelected != ''">
            <span nz-icon nzType="edit" nzTheme="outline" (click)="modificarUsuario(usuarioSelected)"></span>
            <span nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
              nzPopconfirmTitle="¿Seguro que quieres eliminar este usuario?" nzPopconfirmPlacement="top"
              (nzOnConfirm)="guardarEliminarUsuario(usuarioSelected.id_usuario)"></span>
          </div>
          <table>
            <tr>
              <th>ID usuario</th>
              <th>RUT</th>
              <th>Nombre</th>
              <th>Rol</th>
              <th>Correo</th>
              <th>Eliminado</th>
            </tr>
            <tr *ngFor="let usuario of listUsuarios" class="mesa-row" (click)="seleccionarUsuario(usuario)"
              [ngStyle]="{'background-color': usuario.id_usuario === usuarioSelected?.id_usuario ? 'rgba(81, 0, 195, 0.319)' : ''}">
              <td>{{usuario.id_usuario}}</td>
              <td>{{usuario.rut}}-{{usuario.dv}}</td>
              <td>{{usuario.nombre | titlecase}} {{usuario.apellidoPaterno | titlecase}} {{usuario.apellidoMaterno |
                titlecase}}</td>
              <td>{{usuario.rol}}</td>
              <td>{{usuario.correo}}</td>
              <td *ngIf="usuario.eliminado == true">Si</td>
              <td *ngIf="usuario.eliminado == false">No</td>
            </tr>
          </table>
        </div>
      </ng-container>
    
    </nz-modal>
    
    <!-- MODIFICAR USAURIO -->
    <nz-modal nzTitle="Modificar usuario" [nzWidth]="800" [nzContent]="modificarUsuarioContent"
      [(nzVisible)]="isVisibleModificarUsuario" (nzOnOk)="guardarModificarUsuario()"
      (nzOnCancel)="cerrarModificarUsuario()">
      <ng-container #modificarUsuarioContent>
        <form nz-form [formGroup]="validateFormModificarUsuario" id="validateFormModificarUsuario" [nzLayout]="'inline'"
          (ngSubmit)="guardarModificarUsuario()">
          <div style="display: flex; justify-content: center;">
            <nz-form-item>
              <nz-form-label nzRequired nzFor="id_usuario">
                Id usuario
              </nz-form-label>
              <nz-form-control nzErrorTip="Por favor ingrese el nombre a remplazar">
                <input nz-input type="text" name="id_usuario" id="id_usuario" placeholder="id_usuario"
                  formControlName="id_usuario" disabled>
              </nz-form-control>
            </nz-form-item>
          </div>
          <br>
          <div nz-row clas="form-usuario">
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>
                  Rut
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="rut_usuario" id="rut_usuario" placeholder="11111111" maxlength="8"
                    formControlName="rut_usuario" style="width: calc(100% - 40%);">
                  -
                  <input nz-input type="text" name="dv_usuario" id="dv_usuario" placeholder="1" maxlength="1"
                    formControlName="dv_usuario" style="width: 33px;">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Nombre
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="nombre" id="nombre" placeholder="nombre" formControlName="nombre">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Apellido paterno
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="apellido_paterno" id="apellido_paterno" placeholder="apellido paterno"
                    formControlName="apellido_paterno">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Apellido materno
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="text" name="apellido_materno" id="apellido_materno" placeholder="apellido materno"
                    formControlName="apellido_materno">
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label>
                  Rol
                </nz-form-label>
                <nz-form-control>
                  <nz-select [ngModel]="rolSelected" nzPlaceHolder="Elegir rol" name="rol" formControlName="rol">
                    <ng-container *ngFor="let rol of listRoles">
                      <nz-option [nzValue]="rol.id_rol" [nzLabel]="rol.nombre_rol"></nz-option>
                    </ng-container>
                  </nz-select>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Correo
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="email" name="correo" id="correo" placeholder="mail@mail.com"
                    formControlName="correo">
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label>
                  Contraseña
                </nz-form-label>
                <nz-form-control>
                  <input nz-input type="password" name="contraseña" id="contraseña" formControlName="contrasena">
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </form>
      </ng-container>
    </nz-modal>
    
    <!-- CREAR MESA -->
    <nz-modal nzTitle="Crear mesa" [nzWidth]="800" [nzContent]="crearMesaContent" [(nzVisible)]="isVisibleCrearMesa"
      (nzOnOk)="guardarCrearMesa()" (nzOnCancel)="cerrarCrearMesa()">
      <ng-container #crearMesaContent>
        <form nz-form [formGroup]="validateFormCrearMesa" id="validateFormCrearMesa" [nzLayout]="'inline'"
          (ngSubmit)="guardarCrearMesa()">
          <div style="display: flex; justify-content: center;">
            <nz-form-item>
              <nz-form-label>
                Estado de la mesa
              </nz-form-label>
              <br>
              <nz-form-control style="width: 100%;">
                <nz-select nzAllowClear nzPlaceHolder="Disponible" [(ngModel)]="estadoMesaSeleccionado"
                  formControlName="id_estado_mesa">
                  <ng-container *ngFor="let eM of listadoEstadosMesas">
                    <nz-option [nzLabel]="eM.nombre_estado_mesa" [nzValue]="eM.id_estado_mesa"></nz-option>
                  </ng-container>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item style="width: 120px;">
              <nz-form-label>
                Tipo de mesa
              </nz-form-label>
              <br>
              <nz-form-control style="width: 100%;">
                <nz-select nzAllowClear nzPlaceHolder="Familiar" [(ngModel)]="tipoMesaSeleccionado"
                  formControlName="id_tipo_mesa">
                  <ng-container *ngFor="let tM of listadoTiposMesas">
                    <nz-option nzLabel="{{tM.nombre_tipo_mesa}} ({{tM.cantidad_asientos}})" [nzValue]="tM.id_tipo_mesa">
                    </nz-option>
                  </ng-container>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>
        </form>
      </ng-container>
    </nz-modal>
    
    <!-- VER LISTADO DE MESAS -->
    <nz-modal nzTitle="Listado de mesas" [nzContent]="listadoMesasContent" [nzWidth]="800"
      [(nzVisible)]="isVisibleListadoMesas" (nzOnOk)="okListadoMesas()" (nzOnCancel)="okListadoMesas()" [nzFooter]="null">
    
      <ng-container #listadoMesasContent>
        <div>
          <div class="botones-listado-mesas" *ngIf="mesaSelected != null && mesaSelected != ''">
            <span nz-icon nzType="edit" nzTheme="outline" (click)="actualizarMesa(mesaSelected)"></span>
            <span nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
              nzPopconfirmTitle="¿Seguro que quieres eliminar esta mesa?" nzPopconfirmPlacement="top"
              (nzOnConfirm)="guardarEliminarMesa(mesaSelected.id_mesa)"></span>
          </div>
          <table>
            <tr>
              <th>#</th>
              <th>Tipo de mesa</th>
              <th>Cantidad asientos</th>
              <th>Estado de mesa</th>
            </tr>
            <tr *ngFor="let mesa of listadoMesas" class="mesa-row" (click)="seleccionarMesa(mesa)"
              [ngStyle]="{'background-color': mesa.id_mesa === mesaSelected?.id_mesa ? 'rgba(81, 0, 195, 0.319)' : ''}">
              <td>{{mesa.id_mesa}}</td>
              <td>{{mesa.nombre_tipo_mesa}}</td>
              <td>{{mesa.cantidad_asientos}}</td>
              <td>{{mesa.nombre_estado_mesa}}</td>
            </tr>
          </table>
        </div>
      </ng-container>
    
    </nz-modal>
    
    <!-- MODIFICAR MESA -->
    <nz-modal nzTitle="Actualizar mesa" [nzWidth]="800" [nzContent]="actualizarMesaContent"
      [(nzVisible)]="isVisibleActualizarMesa" (nzOnOk)="guardarActualizarMesa()" (nzOnCancel)="cerrarActualizarMesa()">
      <ng-container #crearMesaContent>
        <form nz-form [formGroup]="validateFormActualizarMesa" id="validateFormActualizarMesa" [nzLayout]="'inline'"
          (ngSubmit)="guardarActualizarMesa()">
          <div style="display: flex; justify-content: center;">
            <nz-form-item>
              <nz-form-label nzRequired nzFor="id_mesa">
                Id mesa
              </nz-form-label>
              <br>
              <nz-form-control nzErrorTip="Por favor ingrese número de mesa">
                <input nz-input type="number" min="1" name="id_mesa" id="id_mesa" placeholder="1" formControlName="id_mesa"
                  disabled value="mesaSelected.id_mesa">
              </nz-form-control>
            </nz-form-item>
    
            <nz-form-item>
              <nz-form-label>
                Estado de la mesa
              </nz-form-label>
              <br>
              <nz-form-control style="width: 100%;">
                <nz-select nzAllowClear nzPlaceHolder="Disponible" [(ngModel)]="estadoMesaSeleccionado"
                  formControlName="id_estado_mesa">
                  <ng-container *ngFor="let eM of listadoEstadosMesas">
                    <nz-option [nzLabel]="eM.nombre_estado_mesa" [nzValue]="eM.id_estado_mesa"></nz-option>
                  </ng-container>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item style="width: 120px;">
              <nz-form-label>
                Tipo de mesa
              </nz-form-label>
              <br>
              <nz-form-control style="width: 100%;">
                <nz-select nzAllowClear nzPlaceHolder="Familiar" [(ngModel)]="tipoMesaSeleccionado"
                  formControlName="id_tipo_mesa">
                  <ng-container *ngFor="let tM of listadoTiposMesas">
                    <nz-option nzLabel="{{tM.nombre_tipo_mesa}} ({{tM.cantidad_asientos}})" [nzValue]="tM.id_tipo_mesa">
                    </nz-option>
                  </ng-container>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
          </div>
        </form>
      </ng-container>
    </nz-modal>

    
    <!-- VER DETALLE RECETA -->
    <nz-drawer [nzWidth]="550" [nzClosable]="false" [nzVisible]="visibleDetalleReceta" nzPlacement="right"
      nzTitle="Detalle de receta" (nzOnClose)="cerrarDrawerDetalleReceta()"
      style="background-color: rgba(81, 0, 195, 0.319);">
      <ng-container>
        <div class="all-detalle-plato">
          <div class="header-detalle-plato">
            <div class="botones-modificar">
              <span *ngIf="!isVisibleModificarReceta" nz-icon nzType="edit" nzTheme="outline"
                (click)="modificarReceta(recetaSelected)"></span>
              <span *ngIf="!isVisibleModificarReceta" nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
                nzPopconfirmTitle="¿Seguro que quieres eliminar la receta?" nzPopconfirmPlacement="top"
                (nzOnConfirm)="guardarEliminarReceta(recetaSelected.id_receta)"></span>

              <span *ngIf="isVisibleModificarReceta" nz-icon nzType="check" nzTheme="outline" nz-popconfirm
                nzPopconfirmTitle="¿Seguro que quieres actualizar la receta?" nzPopconfirmPlacement="top"
                (nzOnConfirm)="guardarModificarReceta(recetaSelected.id_receta)"></span>
              <span *ngIf="isVisibleModificarReceta" nz-icon nzType="close" nzTheme="outline"
                (click)="cerrarModificarReceta()"></span>
            </div>
            <div *ngIf="!isVisibleModificarReceta">
              <div class="name-detalle-plato">
                <h3>Receta #{{recetaSelected?.id_receta}}</h3>
              </div>
              <div class="desc-detalle-plato">
                <h5>Tiempo de preparación: {{recetaSelected?.tiempoPreparacion}}</h5>
                <h5>Complejidad: {{recetaSelected?.complejidad}}</h5>
                <h5>Comentario: {{recetaSelected?.comentario}}</h5>
              </div>
              <br>
              <div class="desc-detalle-plato">
                <h4>Productos que utiliza esta receta:</h4>
                <div>
                  <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                    <thead>
                      <tr>
                        <th>Nombre</th>
                        <th>Cantidad</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let prod of recetaSelected?.productosEnUnaReceta">
                        <td>{{prod.producto.nombre_producto}}</td>
                        <td>(x{{prod.cantidad}})</td>
                      </tr>
                    </tbody>
                  </nz-table>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="isVisibleModificarReceta">
            <form nz-form [formGroup]="validateFormModificarReceta" id="validateFormModificarReceta"
              (ngSubmit)="(guardarModificarReceta)">
              <div>
                <nz-form-item>
                  <nz-form-label nzRequired nzFor="id_receta">
                    Id receta
                  </nz-form-label>
                  <nz-form-control nzErrorTip="Por favor ingrese la nuevo id de receta">
                    <input nz-input type="text" name="id_receta" id="id_receta" placeholder="id_receta" disabled
                      value="{{recetaSelected.id_receta}}">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzRequired nzFor="comentario">
                    Comentario
                  </nz-form-label>
                  <nz-form-control nzErrorTip="Por favor ingrese un nuevo comentario">
                    <input nz-input type="text" name="comentario" id="comentario" placeholder="comentario"
                      formControlName="comentario">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzRequired nzFor="complejidad">
                    Complejidad
                  </nz-form-label>
                  <nz-form-control nzErrorTip="Por favor indique la nueva complejidad">
                    <nz-select nzPlaceHolder="Elegir complejidad" name="complejidad" formControlName="complejidad"
                      style="width: 200px">
                      <nz-option nzValue="Fácil" nzLabel="Fácil"></nz-option>
                      <nz-option nzValue="Mediana" nzLabel="Mediana"></nz-option>
                      <nz-option nzValue="Difícil" nzLabel="Difícil"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzRequired nzFor="tiempo_preparacion">
                    Tiempo preparación
                  </nz-form-label>
                  <nz-form-control nzErrorTip="Por favor ingrese el tiepo de tiempo de preparacion">
                    <nz-select nzPlaceHolder="Elegir tiempo" name="tiempo_preparacion" formControlName="tiempo_preparacion"
                      style="width: 200px">
                      <nz-option nzValue="10" nzLabel="10"></nz-option>
                      <nz-option nzValue="20" nzLabel="20"></nz-option>
                      <nz-option nzValue="30" nzLabel="30"></nz-option>
                      <nz-option nzValue="60" nzLabel="60"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </form>
          </div>
        </div>
      </ng-container>
    </nz-drawer>

    <!-- CREAR RECETA -->
    <nz-modal nzTitle="Crear receta" [nzWidth]="800" [nzContent]="crearRecetaContent" [(nzVisible)]="isVisibleCrearReceta"
      (nzOnOk)="guardarCrearReceta()" (nzOnCancel)="cerrarCrearReceta()">
      <ng-container #crearRecetaContent>
        <form nz-form [formGroup]="validateFormCrearReceta" id="validateFormCrearReceta" [nzLayout]="'inline'"
          (ngSubmit)="(guardarCrearReceta)">
          <div style="display: flex; justify-content: center;">
            <nz-form-item>
              <nz-form-label nzFor="complejidad">
                Complejidad
              </nz-form-label>
              <nz-form-control nzErrorTip="Por favor ingrese la complejidad de la receta">
                <nz-select nzPlaceHolder="Elegir complejidad" name="complejidad" formControlName="complejidad"
                  style="width: 200px">
                  <nz-option nzValue="Fácil" nzLabel="Fácil"></nz-option>
                  <nz-option nzValue="Mediana" nzLabel="Mediana"></nz-option>
                  <nz-option nzValue="Difícil" nzLabel="Difícil"></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-label nzFor="tiempo_preparacion">
                Tiempo de preparación
              </nz-form-label>
              <nz-form-control nzErrorTip="Por favor ingrese el tiempo de preparacion">
                <nz-select nzPlaceHolder="Elegir tiempo" name="tiempo_preparacion" formControlName="tiempo_preparacion"
                  style="width: 200px">
                  <nz-option nzValue="10" nzLabel="10"></nz-option>
                  <nz-option nzValue="20" nzLabel="20"></nz-option>
                  <nz-option nzValue="30" nzLabel="30"></nz-option>
                  <nz-option nzValue="60" nzLabel="60"></nz-option>
                </nz-select>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-label nzFor="comentario">
                Comentario
              </nz-form-label>
              <nz-form-control nzErrorTip="Por favor ingrese un comentario">
                <textarea rows="2" nz-input name="comentario" id="comentario"
                  placeholder="Añadir un comentario a la receta..." formControlName="comentario">
                            </textarea>
              </nz-form-control>
            </nz-form-item>
          </div>
          <br>
          <div nz-row>
            <div nz-col nzSpan="11">
              <div>
                <h3 nz-title>Ingredientes disponibles</h3>
                <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                  <thead>
                    <tr>
                      <th>Nombre</th>
                      <th>Acción</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let prod of listaProductos">
                      <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">{{ prod.nombre_producto}}
                      </td>
                      <td *ngIf="prod.nombre_tipo_producto.toLowerCase().includes('ingrediente')">
                        <a (click)="mostrarModalAgregarIngrediente(prod)" [id]="prod.id_producto">Agregar ingrediente</a>
                      </td>
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>
            <div nz-col nzSpan="2"></div>
            <div nz-col nzSpan="11">
              <div>
                <h3 nz-title>Ingredientes de esta receta</h3>
                <nz-table #basicTable nzData="null" [nzShowPagination]="false">
                  <thead>
                    <tr>
                      <th>Nombre</th>
                      <th>Acción</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let prod of listProductosReceta">
                      <td>{{ prod.nombre_producto }} (x{{prod.cantidad}})</td>
                      <td>
                        <a (click)="quitarIngredienteDeReceta(prod)">Quitar</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <a (click)="modificarIngredienteDeReceta(prod)">Modificar</a>
                      </td>
                    </tr>
                  </tbody>
                </nz-table>
              </div>
            </div>
          </div>


        </form>
      </ng-container>
    </nz-modal>

    <!-- CREAR PRODUCTO -->
    <nz-modal nzTitle="Crear Producto" [nzWidth]="800" [nzContent]="crearProductoContent"
      [(nzVisible)]="isVisibleCrearProducto" (nzOnOk)="guardarCrearProducto()" (nzOnCancel)="cerrarCrearProducto()">
      <div>
        <ng-container #crearProductoContent>
          <form nz-form [formGroup]="validateFormCrearProducto" id="validateFormCrearProducto" [nzLayout]="'inline'">
            <div nz-row clas="form-usuario">
              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Nombre
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <input nz-input type="text" name="nombre_producto" id="nombre_producto" placeholder="Nombre producto"
                      formControlName="nombre_producto">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Medida
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto" style="width: 182px;">
                    <nz-select nzPlaceHolder="Elegir medida de producto" name="medida_producto"
                      formControlName="medida_producto">
                      <nz-option nzValue="cc" nzLabel="CC centímetros cúbicos"></nz-option>
                      <nz-option nzValue="lts" nzLabel="Litros"></nz-option>
                      <nz-option nzValue="kg" nzLabel="Kilogramo"></nz-option>
                      <nz-option nzValue="gr" nzLabel="Gramos"></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Stock
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <input nz-input type="number" min=0 name="stock_producto" id="stock_producto"
                      formControlName="stock_producto">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                      Stock Ideal
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                      <input nz-input type="number" min=0 name="stock_ideal" id="stock_ideal" formControlName="stock_ideal">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Valor unitario
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <input nz-input type="number" min=0 name="valor_unitario" id="valor_unitario"
                      formControlName="valor_unitario">
                  </nz-form-control>
                </nz-form-item>
              </div>

              <div nz-col nzSpan="12">
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Tipo de producto
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto" style="width: 200px;">
                    <nz-select nzPlaceHolder="Elegir tipo de producto" name="tipo_producto" formControlName="tipo_producto">
                      <ng-container *ngFor="let tipo of listaTipoProducto">
                        <nz-option [nzValue]="tipo.id_tipo_producto" [nzLabel]="tipo.nombre_tipo_producto"></nz-option>
                      </ng-container>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Fecha ingreso producto
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <input nz-input type="text" name="fecha_ingreso_producto" id="fecha_ingreso_producto" disabled
                      formControlName="fecha_ingreso_producto">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Fecha vencimiento producto
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <nz-date-picker formControlName="fecha_vencimiento" nzFormat="dd/MM/yyyy"></nz-date-picker>
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label class="nz-label-crear-producto">
                    Adjuntar imagen
                  </nz-form-label>
                  <nz-form-control class="nz-control-crear-producto">
                    <!-- <input type="file" class="custom-file-input"  #fileUpload> -->
                    <div class="file-select" id="src-file1">
                      <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedProducto($event)">
                    </div>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
            <div style="width: 100%; text-align: center;">
              <br>
              <nz-form-item style="width: 100%">
                <nz-form-label>
                  Comentario
                </nz-form-label>
                <nz-form-control style="width: 80%">
                  <textarea rows="2" nz-input name="comentario" id="comentario" placeholder="Comentario del producto"
                    formControlName="comentario">
                                </textarea>
                </nz-form-control>
              </nz-form-item>
            </div>
          </form>
        </ng-container>
      </div>
    </nz-modal>

    <!-- CREAR PRODUCTOS RECETA -->
    <nz-modal [(nzVisible)]="isVisibleCrearProductoReceta" nzTitle="Ingresar producto en receta"
      (nzOnCancel)="cancelarCrearProductoReceta()" (nzOnOk)="guardarProductoEnReceta()">
      <ng-container>
        <form nz-form [formGroup]="validateFormCrearProductosReceta" id="validateFormCrearProductosReceta"
          [nzLayout]="'inline'">
          <div nz-row class="form-plato">
            <div style="display: grid;">
              <nz-form-item>
                <nz-form-label class="nz-label-crear-productos-receta">
                  Nombre
                </nz-form-label>
                <nz-form-control class="nz-control-crear-productos-receta">
                  <input nz-input type="text" name="nombre_producto" id="nombre_producto" formControlName="nombre_producto"
                    disabled>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label class="nz-label-crear-productos-receta">
                  Cantidad
                </nz-form-label>
                <nz-form-control class="nz-control-crear-productos-receta">
                  <div style="display: flex; align-items: center;">
                    <input nz-input type="text" disabled [value]="cantidadProductoReceta" style="width: 100px;">
                    <span nz-icon nzType="minus-circle" nzTheme="outline" (click)="quitarCantidadProductoReceta()"
                      style="font-size: x-large"></span>
                    <span nz-icon nzType="plus-circle" nzTheme="outline" (click)="agregarCantidadProductoReceta()"
                      style="font-size: x-large"></span>
                  </div>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label class="nz-label-crear-productos-receta">
                  Comentario
                </nz-form-label>
                <nz-form-control class="nz-control-crear-productos-receta">
                  <textarea rows="2" nz-input name="comentario" id="comentario"
                    placeholder="Añadir un descripción a este producto en una receta..." formControlName="comentario">
                                </textarea>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </form>
      </ng-container>
    </nz-modal>

    <!-- VER LISTADO DE PRODUCTOS -->
    <nz-modal nzTitle="Listado de productos" [nzContent]="listadoProductosContent" [nzWidth]="1000"
      [(nzVisible)]="isVisibleListadoProductos" (nzOnOk)="okListadoProductos()" (nzOnCancel)="okListadoProductos()" [nzFooter]="null">
    
      <ng-container #listadoProductosContent>
        <div>
          <!-- <div class="botones-listado-mesas" *ngIf="productoSelected != null && productoSelected != ''">
            <span nz-icon nzType="edit" nzTheme="outline" (click)="modificarProducto(productoSelected)"></span>
            <span nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
              nzPopconfirmTitle="¿Seguro que quieres eliminar este producto?" nzPopconfirmPlacement="top"
              (nzOnConfirm)="guardarEliminarProducto(productoSelected.id_producto)"></span>
          </div> -->
          <table>
            <tr>
              <th>#</th>
              <th>Nombre producto</th>
              <th>Tipo de producto</th>
              <th>Fecha vencimiento</th>
              <th>Comentario</th>

              <th>Acción</th>
            </tr>
            <tr *ngFor="let prod of listaProductos" class="mesa-row" (click)="seleccionarProducto(prod)">
              <td>{{prod.id_producto}}</td>
              <td>{{prod.nombre_producto}}</td>
              <td>{{prod.nombre_tipo_producto}}</td>
              <td>{{prod.fecha_vencimiento}}</td>
              <td>{{prod.comentario}}</td>

              <td><a (click)="verDetalleProducto(producto)">Detalle</a></td>
            </tr>
          </table>
        </div>
      </ng-container>
    
    </nz-modal>

    <!-- VER DETALLE PRODUCTO -->
    <nz-drawer [nzWidth]="550" [nzClosable]="false" [nzVisible]="visibleDetalleProdcuto" nzPlacement="right"
      nzTitle="Detalle del producto" (nzOnClose)="cerrarDrawerDetalleProducto()"
      style="background-color: rgba(81, 0, 195, 0.319);">
      <ng-container>
        <div class="all-detalle-plato">
          <div class="img-detalle-plato">
            <img *ngIf="productoSelected?.nombre_imagen != undefined"
              src="http://localhost:8085/restaurantSXXI/imagenes-rxxi/productos/{{productoSelected.nombre_imagen}}" alt=""
              style="height: 300px; width: 100%;">
            <img *ngIf="productoSelected?.nombre_imagen == undefined" src="assets/img-platos/nodisponible.png" alt=""
              style="height: 300px; width: 100%;">
          </div>
          <div class="botones-modificar">
            <span *ngIf="!isVisibleModificarProducto" nz-icon nzType="edit" nzTheme="outline"
              (click)="modificarProducto(productoSelected)"></span>
            <span *ngIf="!isVisibleModificarProducto" nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
              nzPopconfirmTitle="¿Seguro que quieres eliminar el producto?" nzPopconfirmPlacement="top"
              (nzOnConfirm)="guardarEliminarProducto(productoSelected.id_producto)"></span>

            <span *ngIf="isVisibleModificarProducto" nz-icon nzType="check" nzTheme="outline" nz-popconfirm
              nzPopconfirmTitle="¿Seguro que quieres actualizar el plato?" nzPopconfirmPlacement="top"
              (nzOnConfirm)="guardarModificarProducto(productoSelected.id_producto)"></span>
            <span *ngIf="isVisibleModificarProducto" nz-icon nzType="close" nzTheme="outline"
              (click)="cerrarModificarProducto()"></span>

          </div>
          <div class="header-detalle-plato" *ngIf="!isVisibleModificarProducto">
            <div class="name-detalle-plato">
              <h3>{{productoSelected?.nombre_producto | uppercase}}</h3>
            </div>
            <div class="desc-detalle-plato">
              <h5>{{productoSelected?.comentario}}</h5>
              <h5>Tipo de producto: {{productoSelected?.nombre_tipo_producto}}</h5>
              <h5>Valor: ${{productoSelected?.valor_unitario | currency:'CLP'}}</h5>
              <h5 *ngIf="productoSelected?.stock_producto > 0">Stock disponible: {{productoSelected?.stock_producto}}</h5>
              <h5 *ngIf="productoSelected?.stock_producto == 0" style="color: red;">Stock disponible:
                {{productoSelected?.stock_producto}}</h5>
              <h5>Fecha ingreso: {{productoSelected?.fecha_ingreso_producto}}</h5>
              <h5>Fecha vencimiento: {{productoSelected?.fecha_vencimiento}}</h5>
              <h5>Medida: {{productoSelected?.medida_producto}}</h5>
              <h5>Tipo de producto: {{productoSelected?.tipo_producto_comentario}}</h5>
            </div>
          </div>
          <div *ngIf="isVisibleModificarProducto">
            <form nz-form [formGroup]="validateFormModificarProducto" [nzLayout]="'inline'"
              id="validateFormModificarProducto">
              <div nz-row class="form-plato">
                <div nz-col nzSpan="24" class="modificar-content-form">
                  <nz-form-item>
                    <nz-form-label nzFor="id_producto" class="nz-label-modificar-producto">
                      Id producto
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <input nz-input type="text" name="id_producto" id="id_producto" placeholder="id_producto"
                        formControlName="id_producto" disabled>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto" nzFor="fecha_ingreso_producto">
                      Fecha de ingreso
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <nz-date-picker formControlName="fecha_ingreso_producto" nzFormat="dd/MM/yyyy"></nz-date-picker>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto" nzFor="fecha_vencimiento">
                      Fecha de vencimiento
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <nz-date-picker formControlName="fecha_vencimiento" nzFormat="dd/MM/yyyy"></nz-date-picker>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto" nzFor="nombre_producto">
                      Nombre producto
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <input nz-input type="text" name="nombre_producto" id="nombre_producto" placeholder="nombre_producto"
                        formControlName="nombre_producto">
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto" nzFor="medida_producto">
                      Medida
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <nz-select nzPlaceHolder="Elegir medida de producto" name="medida_producto"
                        formControlName="medida_producto">
                        <nz-option nzValue="cc" nzLabel="CC centímetros cúbicos"></nz-option>
                        <nz-option nzValue="lts" nzLabel="Litros"></nz-option>
                        <nz-option nzValue="kg" nzLabel="Kilogramo"></nz-option>
                        <nz-option nzValue="gr" nzLabel="Gramos"></nz-option>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto">
                      Stock
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <input nz-input type="number" min=0 name="stock_producto" id="stock_producto"
                        formControlName="stock_producto">
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-crear-producto">
                        Stock Ideal
                    </nz-form-label>
                    <nz-form-control class="nz-control-crear-producto">
                        <input nz-input type="number" min=0 name="stock_ideal" id="stock_ideal" formControlName="stock_ideal">
                    </nz-form-control>
                </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto">
                      Valor unitario
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <input nz-input type="number" min=0 name="valor_unitario" id="valor_unitario"
                        formControlName="valor_unitario">
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto" nzFor="comentario">
                      Comentario
                    </nz-form-label>
                    <nz-form-control nzErrorTip="Por favor ingrese un nuevo comentario"
                      class="nz-control-modificar-producto">
                      <input nz-input type="text" name="comentario" id="comentario" placeholder="comentario"
                        formControlName="comentario">
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto">
                      Tipo de producto
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <nz-select nzPlaceHolder="Elegir tipo de producto" name="tipo_producto"
                        formControlName="tipo_producto">
                        <ng-container *ngFor="let tipo of listaTipoProducto">
                          <nz-option [nzValue]="tipo.id_tipo_producto" [nzLabel]="tipo.nombre_tipo_producto"></nz-option>
                        </ng-container>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label class="nz-label-modificar-producto">
                      Adjuntar imagen
                    </nz-form-label>
                    <nz-form-control class="nz-control-modificar-producto">
                      <div class="file-select" id="src-file1">
                        <input type="file" name="src-file1" aria-label="Archivo" (change)="onFileSelectedProducto($event)">
                      </div>
                    </nz-form-control>
                  </nz-form-item>
                </div>
              </div>
            </form>
          </div>
        </div>
      </ng-container>
    </nz-drawer>

     <!-- VER LISTADO DE CLIENTES -->
     <nz-modal nzTitle="Listado de clientes" [nzContent]="listadoClientesContent" [nzWidth]="800"
     [(nzVisible)]="isVisibleListadoClientes" (nzOnOk)="okListadoClientes()" (nzOnCancel)="okListadoClientes()" [nzFooter]="null">
   
     <ng-container #listadoClientesContent>
       <div>
         <!-- <div class="botones-listado-mesas" *ngIf="productoSelected != null && productoSelected != ''">
           <span nz-icon nzType="edit" nzTheme="outline" (click)="modificarProducto(productoSelected)"></span>
           <span nz-icon nzType="delete" nzTheme="outline" nz-popconfirm
             nzPopconfirmTitle="¿Seguro que quieres eliminar este producto?" nzPopconfirmPlacement="top"
             (nzOnConfirm)="guardarEliminarProducto(productoSelected.id_producto)"></span>
         </div> -->
         <table>
           <tr>
             <th>#</th>
             <th>Nombre cliente</th>
             <th>RUT cliente</th>
             <th>Fecha ingreso</th>
           </tr>
           <tr *ngFor="let cli of listClientes; let i = index;" class="mesa-row">
             <td>{{i + 1}}</td>
             <td>{{cli.nombre_cliente}}</td>
             <td>{{cli.rut_cliente}}-{{cli.dv_cliente}}</td>
             <td>{{cli.fecha_ingreso}}</td>
           </tr>
         </table>
       </div>
     </ng-container>
   
   </nz-modal>

   <!-- CREAR REPORTE -->
  <nz-modal nzTitle="Crear reporte" [nzWidth]="1000" [nzContent]="crearReporteContent" [(nzVisible)]="isVisibleCrearReporte" (nzOnOk)="guardarCrearReporte()" (nzOnCancel)="cerrarCrearReporte()">
    <ng-container #crearReporteContent>
        <form nz-form [formGroup]="validateFormCrearReporte" id="validateFormCrearReporte" [nzLayout]="'inline'">
            <div nz-row clas="form-usuario">
                <div nz-col nzSpan="24">
                    <nz-form-item>
                        <nz-form-label>
                            Título del reporte
                        </nz-form-label>
                        <nz-form-control>
                            <input nz-input type="text" name="titulo_reporte" id="titulo_reporte" placeholder="Pon un títutlo" formControlName="titulo_reporte">
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label>
                            Tipo reporte
                        </nz-form-label>
                        <nz-form-control>
                            <nz-select nzPlaceHolder="Elegir tipo de reporte" name="id_tipo_reporte" formControlName="id_tipo_reporte"
                            (ngModelChange)="onChangeTipoReporte($event)">
                                <ng-container *ngFor="let tr of listTipoReportes">
                                    <nz-option [nzValue]="tr.id_tipo_reporte" [nzLabel]="tr.nombre_tipo_reporte"></nz-option>
                                </ng-container>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label>
                            Comentario
                        </nz-form-label>
                        <nz-form-control>
                            <input nz-input type="text" name="comentario" id="comentario" placeholder="Pon un comentario" formControlName="comentario">
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </form>

        <br>

        <div *ngIf="mostrarDetalleVistaReporte">
          <div *ngIf="tipoReporteSelected == 1">
            <h3 nz-title> Reporte de stock de productos </h3>
            <table>
              <tr>
                <th>#</th>
                <!-- <th>ID</th> -->
                <th>Nombre</th>
                <th>Medida</th>
                <th>Stock ideal</th>
                <th>Stock actual</th>
                <th>%Respecto ideal</th>
                <th>%Productos faltantes</th>
                <th>Valor unitario</th>
              </tr>
              <tr *ngFor="let row of valoresRespuestaObtenerReporte; let i = index;" class="mesa-row">
                <td>{{i+1}}</td>
                <!-- <td>{{row[0]}}</td> -->
                <td>{{row[1]}}</td>
                <td>{{row[2]}}</td>
                <td>{{row[3]}}</td>
                <td>{{row[4]}}</td>
                <td>{{row[5]}}</td>
                <td>{{row[6]}}</td>
                <td>{{row[7]}}</td>
              </tr>
            </table>
          </div>
          <div *ngIf="tipoReporteSelected == 2">
            <h3 nz-title> Reporte de clientes atendidos </h3>
            <table>
              <tr>
                <th>Clientes atendidos</th>
              </tr>
              <tr *ngFor="let row of clientesAtendidosMes; let i = index;" class="mesa-row">
                <td>{{row[0]}}</td>
              </tr>
            </table>
            <br>
            <h3 nz-title> Reporte de ingresos por cliente este mes </h3>
            <table>
              <tr>
                <th>RUT Cliente</th>
                <th>Ingresos este mes</th>
              </tr>
              <tr *ngFor="let row of cantidadIngresoPorClienteMes; let i = index;" class="mesa-row">
                <td>{{row[0]}}</td>
                <td>{{row[1]}}</td>
              </tr>
            </table>
            <br>
            <h3 nz-title> Reporte de clientes atendidos por boleta </h3>
            <table>
              <tr>
                <th>RUT Cliente</th>
                <th>Estado boleta</th>
                <th>Tipo de pago</th>
              </tr>
              <tr *ngFor="let row of clientesAtendidosPorBoleta; let i = index;" class="mesa-row">
                <td>{{row[0]}}</td>
                <td>{{row[1]}}</td>
                <td>{{row[2]}}</td>
              </tr>
            </table>

          </div>
          <div *ngIf="tipoReporteSelected == 3">
            <h3 nz-title> Reporte de platos consumidos </h3>
            <table>
              <tr>
                <th>#</th>
                <th>Nombre plato</th>
                <th>Tipo de plato</th>
                <th>Veces pedido</th>
              </tr>
              <tr *ngFor="let row of obtenerPlatosConsumidos; let i = index;" class="mesa-row">
                <td>{{i+1}}</td>
                <td>{{row[2]}}</td>
                <td>{{row[1]}}</td>
                <td>{{row[3]}}</td>
              </tr>
            </table>
          </div>
          <div *ngIf="tipoReporteSelected == 4">
            <h3 nz-title> Reporte de reabastecimiento </h3>
            <table>
              <tr>
                <th>#</th>
                <!-- <th>ID</th> -->
                <th>Nombre</th>
                <th>Medida</th>
                <th>Stock ideal</th>
                <th>Stock actual</th>
                <th>%S.R.I.</th>
                <th>Valor unitario</th>
                <th>Cant. comprar</th>
                <th>Valor X cantidad</th>
              </tr>
              <tr *ngFor="let row of reporteReabastecimiento; let i = index;" class="mesa-row">
                <td>{{i+1}}</td>
                <!-- <td>{{row[0]}}</td> -->
                <td>{{row[1]}}</td>
                <td>{{row[2]}}</td>
                <td>{{row[3]}}</td>
                <td>{{row[4]}}</td>
                <td>{{row[5]}}</td>
                <td>{{row[6]}}</td>
                <td>{{row[7]}}</td>
                <td>${{row[8]}}</td>
              </tr>
            </table>
          </div>
        </div>
    </ng-container>
  </nz-modal>

   <!-- VER LISTADO DE REPORTES -->
    <nz-modal nzTitle="Listado de reportes" [nzContent]="listadoReportesContent" [nzWidth]="1200" [(nzVisible)]="isVisibleVerReportes" (nzOnOk)="okVerReportes()" (nzOnCancel)="okVerReportes()" [nzFooter]="null">

      <ng-container #listadoReportesContent>
          <div>
              <!-- <div class="botones-listado-mesas" *ngIf="usuarioSelected != null && usuarioSelected != ''">
                <span nz-icon nzType="edit" nzTheme="outline" (click)="modificarUsuario(usuarioSelected)"></span>
                <span nz-icon nzType="delete" nzTheme="outline" nz-popconfirm nzPopconfirmTitle="¿Seguro que quieres eliminar esta mesa?" nzPopconfirmPlacement="top" (nzOnConfirm)="guardarEliminarUsuario(usuarioSelected.id_usuario)"></span>
            </div> -->
              <table>
                  <tr>
                      <th>#</th>
                      <th>Título</th>
                      <th>Descripción</th>
                      <th>Fecha creación</th>
                      <th>Tipo</th>
                      <th>Acción</th>
                  </tr>
                  <tr *ngFor="let reporte of listReportes" class="mesa-row">
                      <td>{{reporte.id_reporte}}</td>
                      <td>{{reporte.titulo_reporte}}</td>
                      <td>{{reporte.comentario}}</td>
                      <td>{{reporte.fecha_creacion | date : 'dd/MM/yyyy'}}</td>
                      <td>{{reporte.nombre_tipo_reporte}}</td>
                      <td>
                          <a nz-popconfirm
                          nzPopconfirmTitle="¿Seguro que quieres eliminar este reporte?" nzPopconfirmPlacement="top"
                          (nzOnConfirm)="eliminarReporte(reporte.id_reporte)">Eliminar</a>
                          <br>
                          <a href="http://localhost:8085/restaurantSXXI/imagenes-rxxi/reportes/{{reporte.nombre_creacion}}" target="_blank">Abrir archivo</a>
                      </td>

                  </tr>
              </table>
          </div>
      </ng-container>

    </nz-modal>

    <!-- VER LISTADO DE SOLICITUDES DE REABASTECIMIENTO -->
    <nz-modal nzTitle="Listado de solicitudes de reabastecimiento" [nzContent]="listadoSolicitudesReabastecimientoContent" [nzWidth]="1000" [(nzVisible)]="isVisibleSolicitudReabastecimiento" (nzOnOk)="okSolicitudReabastecimiento()" (nzOnCancel)="okSolicitudReabastecimiento()" [nzFooter]="null">

      <ng-container #listadoSolicitudesReabastecimientoContent>
          <div>
              <table>
                  <tr>
                      <th>#</th>
                      <th>Título</th>
                      <th>Fecha creación</th>
                      <th>Tipo</th>
                      <th>Acción</th>
                  </tr>
                  <tr *ngFor="let reporte of listSolicitudesReabastecimiento" class="mesa-row">
                      <td>{{reporte.id_reporte}}</td>
                      <td>{{reporte.titulo_reporte}}</td>
                      <td>{{reporte.fecha_creacion | date : 'dd/MM/yyyy'}}</td>
                      <td>{{reporte.nombre_tipo_reporte}}</td>
                      <td>
                          <a nz-popconfirm
                          nzPopconfirmTitle="¿Seguro que quieres eliminar este reporte?" nzPopconfirmPlacement="top"
                          (nzOnConfirm)="eliminarReporte(reporte.id_reporte)">Eliminar</a>
                          <br>
                          <a href="http://localhost:8085/restaurantSXXI/imagenes-rxxi/reportes/{{reporte.nombre_creacion}}" target="_blank">Abrir archivo</a>
                      </td>

                  </tr>
              </table>
          </div>
      </ng-container>

    </nz-modal>

    <!-- VER LISTADO DE SOLICITUDES DE REABASTECIMIENTO APROBADAS-->
    <nz-modal nzTitle="Listado de solicitudes aprobadas" [nzContent]="listadoSolicitudesReabastecimientoAprobadasContent" [nzWidth]="1000" [(nzVisible)]="isVisibleMostrarRegistrosAprobadas" (nzOnOk)="cerrarRegistrosSolicitudesAprobadas()" (nzOnCancel)="cerrarRegistrosSolicitudesAprobadas()" [nzFooter]="null">

      <ng-container #listadoSolicitudesReabastecimientoAprobadasContent>
          <div>
              <table>
                  <tr>
                      <th>Título</th>
                      <th>Usuario</th>
                      <th>Fecha creación</th>
                      <th>Acción</th>
                  </tr>
                  <tr *ngFor="let bzE of buzonEntrada" class="mesa-row">
                      <td>{{bzE.registro.titulo_registro}}</td>
                      <td>{{bzE.registro.id_usuario}}</td>
                      <td>{{bzE.registro.fecha_instancia | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
                      <td>
                        <a href="http://localhost:8085/restaurantSXXI/imagenes-rxxi/reportes/{{bzE.registro.reporte.nombre_creacion}}" target="_blank">Abrir archivo</a>
                        <br>
                        <button nz-button (click)="contactarProveedores(bzE.registro)" nzType="primary"> Contactar proveedores </button>
                      </td>
                  </tr>
              </table>
          </div>
      </ng-container>

    </nz-modal>
</div>

<div *ngIf="rolUsuarioLogeado != 1">
  <nz-result
    nzTitle="No posees los permisos necesarios"
    nzStatus="403"
    nzSubTitle="No puedes acceder a esta pestaña"
  >    
    <!-- <div nz-result-content>
      <div class="desc">
        <h4 nz-title>The content you submitted has the following error:</h4>
        <p nz-paragraph>
          <span nz-icon nzType="close-circle"></span>
          Your account has been frozen
          <a>Thaw immediately &gt;</a>
        </p>
        <p nz-paragraph>
          <span nz-icon nzType="close-circle"></span>
          Your account is not yet eligible to apply
          <a>Apply immediately &gt;</a>
        </p>
      </div>
    </div>
    <div nz-result-extra>
      <button nz-button nzType="primary">Go Console</button>
      <button nz-button>Buy Again</button>
    </div> -->
  </nz-result>
</div>